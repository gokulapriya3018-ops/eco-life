<!-- templates/eco/carbon.html -->
<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Carbon Calculator</title>
  <style>
    /* compact green-themed styling (use your previous home styles) */
    body{font-family:Poppins, sans-serif; background: linear-gradient(90deg,#f1f8e9,#e8f5e9);}
    .wrap{max-width:720px;margin:40px auto;background:#fff;padding:28px;border-radius:14px;box-shadow:0 8px 20px rgba(46,125,50,0.15);}
    h2{color:#1b5e20}
    input{width:100%;padding:12px;border:2px solid #c8e6c9;border-radius:8px;margin:10px 0}
    button{background:#2e7d32;color:#fff;padding:12px 18px;border-radius:8px;border:none;cursor:pointer}
    .result{background:#dcedc8;padding:12px;border-radius:8px;margin-top:12px;color:#33691e}
  </style>
</head>
<body>
  <div class="wrap">
    <h2>Calculate Daily Carbon Footprint</h2>

    <form method="post">
      {% csrf_token %}
      <label>Vehicle distance (km/day)</label>
      <input name="km" type="number" step="0.1" value="{{ today_record.vehicle|default_if_none:'' }}" required>

      <label>Water usage (liters/day)</label>
      <input name="water" type="number" step="0.1" value="{{ today_record.water|default_if_none:'' }}" required>

      <label>Electricity (kWh/day)</label>
      <input name="electricity" type="number" step="0.1" value="{{ today_record.electricity|default_if_none:'' }}" required>

      <button type="submit">Save & Calculate</button>
    </form>

    {% if result %}
      <div class="result">
        <strong>Daily CO₂:</strong> {{ result }} kg CO₂<br>
        <strong>Eco Score:</strong> {{ eco_score }}/100
        <div style="margin-top:10px"><a href="{% url 'weekly_graph' %}">View Weekly Graph</a></div>
      </div>
    {% endif %}
  </div>
</body>
</html>
